<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Barbershop</title>
      <script type="module" crossorigin src="/assets/index-AMca1tqb.js"></script>
      <link rel="stylesheet" crossorigin href="/assets/index-CkJUlw1M.css">
    <link rel="manifest" href="/manifest.webmanifest"><script id="vite-plugin-pwa:inline-sw">if('serviceWorker' in navigator) {window.addEventListener('load', () => {navigator.serviceWorker.register('/sw.js', { scope: '/' })})}</script></head>
    <body>
        <div id="root"></div>

        <script
            src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js"
            defer
        ></script>

        <script>
            if ('serviceWorker' in navigator) {
                window.addEventListener('load', () => {
                    navigator.serviceWorker.register('/OneSignalSDKWorker.js', {
                        scope: '/src/',
                    });
                });
            }
        </script>

        <script>
            if (
                'serviceWorker' in navigator &&
                !navigator.serviceWorker.controller
            ) {
                navigator.serviceWorker.register('/OneSignalSDKWorker.js');
            }

            window.OneSignalDeferred = window.OneSignalDeferred || [];
            OneSignalDeferred.push(async function (OneSignal) {
                await OneSignal.init({
                    appId: '8fc8a9b2-0afd-47c6-9799-9cf88b9bc132',
                    // safari_web_id:
                    //     'web.onesignal.auto.4ed01e00-f557-41b7-a4bd-c51172d553fd',
                    notifyButton: {
                        enable: true,
                    },
                    // serviceWorkerParam: { scope: '/src/' },
                    // serviceWorkerPath: 'src/OneSignalSDKWorker.js',
                    serviceWorkerParam: { scope: '/' },
                    serviceWorkerPath: 'OneSignalSDKWorker.js',
                    // notifyButton: {
                    //     enable: true,
                    // },
                });

                localStorage.setItem(
                    'subsID',
                    OneSignal.User.PushSubscription.id
                );

                console.log('Token saved: ', OneSignal.User);
                console.log(localStorage.getItem('subsID'));
            });
        </script>
    </body>
</html>
